{
    "scopeName": "novel.text",
	"name": "novel.text",
	"patterns": [
		{
			"include": "#novel-document"
		}
	],
	"repository": {
		"novel-document": {
			"patterns": [
				{ "include": "#descriptive-part"},
				{ "include": "#dialogue" }
			]
		},
		"descriptive-part": {
			"patterns": [
				{ "include": "#punctuation"} ,
				{ "include": "#numerals" },
				{ "include": "#hirakana" },
				{ "include": "#katakana" },
				{ "include": "#alphabet" },
				{ "include": "#ruby" },
				{ "include": "#emphasis" },
				{ "include": "#punctuation-symbol-invalid" }
			]
		},
		"dialogue": {
			"name": "novel.text.dialogue",
			"begin": "^\\s*「",
			"end": "」",
			"patterns": [
				{ "include": "#punctuation" },
				{ "include": "#numerals" },
				{ "include": "#hirakana" },
				{ "include": "#katakana" },
				{ "include": "#alphabet" },
				{ "include": "#ruby" },
				{ "include": "#emphasis" },
				{ "include": "#punctuation-symbol-invalid" }
			]
		},
		"punctuation": {
			"patterns": [
				{ "include": "#punctuation-generic" },
				{ "include": "#punctuation-symbol" }
			]
		},
		"punctuation-generic": {
			"name": "novel.text.punctuation.generic",
			"match": "[、。，．]"
		},
		"punctuation-symbol": {
			"name": "novel.text.punctuation.symbol",
			"match": "([！？]+|[!?]+|[⁇⁈⁉])(?=\\s|[）」』])"
		},
		"punctuation-symbol-invalid": {
			"name": "novel.invalid",
			"match": "([！？]+|[!?]+|[⁇⁈⁉])(?!\\s|[）」』])"
		},
		"numerals" : {
			"patterns": [
				{ "include": "#arabic-numerals" },
				{ "include": "#kanji-numerals" }
			]
		},
		"arabic-numerals": {
			"patterns": [
				{ "include": "#arabic-numerals-hankaku" },
				{ "include": "#arabic-numerals-zenkaku" }
			]
		},
		"arabic-numerals-hankaku": {
			"name": "novel.numerals.arabic",
			"match": "-?[0-9]+"
		},
		"arabic-numerals-zenkaku": {
			"name": "novel.numerals.arabic",
			"match": "－?[０-９]+"
		},
		"kanji-numerals": {
			"name": "novel.numerals.kanji",
			"match": "[一二三四五六七八九十百千][〇一二三四五六七八九十百千万億兆京]+"
		},
		"hirakana": {
			"name":"novel.text.hirakana",
			"match": "[ぁ-ゞ][ぁ-ゞー]*"
		},
		"katakana": {
			"name": "novel.text.katakana",
			"match": "[ァ-ヾ\u3099-\u309c][ーァ-ヾ\u3099-\u309c]*"
		},
		"alphabet": {
			"name": "novel.text.alpha",
			"patterns": [
				{ "include": "#alphabet-hankaku" },
				{ "include": "#alphabet-zenkaku" }
			]
		},
		"kanji": {
			"name": "novel.script.kanji",
			"match": "(([\u3005\u3007\u303b\u3400-\u9FFF\uF900-\uFAFF]|[\uD840-\uD87F][\uDC00-\uDFFF])([\uDB40][\udd00-\uddef]|[\uFE00-\uFE02])?)+"
		},
		"alphabet-hankaku": {
			"match": "[A-Za-z]+"
		},
		"alphabet-zenkaku": {
			"match": "[Ａ-Ｚａ-ｚ]+"
		},
		"emphasis": {
			"name": "novel.text.ruby",
			"match": "《《([^《》]+)》》"
		},
		"ruby": {
			"name": "novel.text.ruby",
			"match": "[|｜](?!《)[^《]+《[^》]+》"
		},
		"ruby-parent": {
			"name": "variable",
			"begin": "[|｜]",
			"end": "(?=《)"
		},
		"ruby-child": {
			"name": "variable",
			"begin": "《",
			"end": "》"
		}
	}
}